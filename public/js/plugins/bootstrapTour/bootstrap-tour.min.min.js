!function(a,b){var c,d;return d=b.document,c=function(){function e(g){var h;try{h=b.localStorage}catch(f){h=!1}this._options=a.extend({name:"tour",steps:[],container:"body",autoscroll:!0,keyboard:!0,storage:h,debug:!1,backdrop:!1,backdropPadding:0,redirect:!0,orphan:!1,duration:!1,delay:!1,basePath:"",template:'<div class="popover" role="tooltip"> <div class="arrow"></div> <h3 class="popover-title"></h3> <div class="popover-content"></div> <div class="popover-navigation"> <div class="btn-group"> <button class="btn btn-sm btn-default" data-role="prev">&laquo; Prev</button> <button class="btn btn-sm btn-default" data-role="next">Next &raquo;</button> <button class="btn btn-sm btn-default" data-role="pause-resume" data-pause-text="Pause" data-resume-text="Resume">Pause</button> </div> <button class="btn btn-sm btn-default" data-role="end">End tour</button> </div> </div>',afterSetState:function(){},afterGetState:function(){},afterRemoveState:function(){},onStart:function(){},onEnd:function(){},onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNext:function(){},onPrev:function(){},onPause:function(){},onResume:function(){}},g),this._force=!1,this._inited=!1,this.backdrop={overlay:null,$element:null,$background:null,backgroundShown:!1,overlayElementShown:!1}}return e.prototype.addSteps=function(f){var g,h,i;for(h=0,i=f.length;i>h;h++){g=f[h],this.addStep(g)}return this},e.prototype.addStep=function(f){return this._options.steps.push(f),this},e.prototype.getStep=function(f){return null!=this._options.steps[f]?a.extend({id:"step-"+f,path:"",placement:"right",title:"",content:"<p></p>",next:f===this._options.steps.length-1?-1:f+1,prev:f-1,animation:!0,container:this._options.container,autoscroll:this._options.autoscroll,backdrop:this._options.backdrop,backdropPadding:this._options.backdropPadding,redirect:this._options.redirect,orphan:this._options.orphan,duration:this._options.duration,delay:this._options.delay,template:this._options.template,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,onPause:this._options.onPause,onResume:this._options.onResume},this._options.steps[f]):void 0},e.prototype.init=function(f){return this._force=f,this.ended()?(this._debug("Tour ended, init prevented."),this):(this.setCurrentStep(),this._initMouseNavigation(),this._initKeyboardNavigation(),this._onResize(function(g){return function(){return g.showStep(g._current)}}(this)),null!==this._current&&this.showStep(this._current),this._inited=!0,this)},e.prototype.start=function(f){var g;return null==f&&(f=!1),this._inited||this.init(f),null===this._current&&(g=this._makePromise(null!=this._options.onStart?this._options.onStart(this):void 0),this._callOnPromiseDone(g,this.showStep,0)),this},e.prototype.next=function(){var f;return f=this.hideStep(this._current),this._callOnPromiseDone(f,this._showNextStep)},e.prototype.prev=function(){var f;return f=this.hideStep(this._current),this._callOnPromiseDone(f,this._showPrevStep)},e.prototype.goTo=function(f){var g;return g=this.hideStep(this._current),this._callOnPromiseDone(g,this.showStep,f)},e.prototype.end=function(){var g,f;return g=function(h){return function(){return a(d).off("click.tour-"+h._options.name),a(d).off("keyup.tour-"+h._options.name),a(b).off("resize.tour-"+h._options.name),h._setState("end","yes"),h._inited=!1,h._force=!1,h._clearTimer(),null!=h._options.onEnd?h._options.onEnd(h):void 0}}(this),f=this.hideStep(this._current),this._callOnPromiseDone(f,g)},e.prototype.ended=function(){return !this._force&&!!this._getState("end")},e.prototype.restart=function(){return this._removeState("current_step"),this._removeState("end"),this.start()},e.prototype.pause=function(){var f;return f=this.getStep(this._current),f&&f.duration?(this._paused=!0,this._duration-=(new Date).getTime()-this._start,b.clearTimeout(this._timer),this._debug("Paused/Stopped step "+(this._current+1)+" timer ("+this._duration+" remaining)."),null!=f.onPause?f.onPause(this,this._duration):void 0):this},e.prototype.resume=function(){var f;return f=this.getStep(this._current),f&&f.duration?(this._paused=!1,this._start=(new Date).getTime(),this._duration=this._duration||f.duration,this._timer=b.setTimeout(function(g){return function(){return g._isLast()?g.next():g.end()}}(this),this._duration),this._debug("Started step "+(this._current+1)+" timer with duration "+this._duration),null!=f.onResume&&this._duration!==f.duration?f.onResume(this,this._duration):void 0):this},e.prototype.hideStep=function(g){var h,j,f;return(f=this.getStep(g))?(this._clearTimer(),j=this._makePromise(null!=f.onHide?f.onHide(this,g):void 0),h=function(i){return function(){var k;return k=a(f.element),k.data("bs.popover")||k.data("popover")||(k=a("body")),k.popover("destroy").removeClass("tour-"+i._options.name+"-element tour-"+i._options.name+"-"+g+"-element"),f.reflex&&k.removeClass("tour-step-element-reflex").off(""+i._reflexEvent(f.reflex)+".tour-"+i._options.name),f.backdrop&&i._hideBackdrop(),null!=f.onHidden?f.onHidden(i):void 0}}(this),this._callOnPromiseDone(j,h),j):void 0},e.prototype.showStep=function(g){var k,f,j,h;return this.ended()?(this._debug("Tour ended, showStep prevented."),this):(h=this.getStep(g))?(j=g<this._current,k=this._makePromise(null!=h.onShow?h.onShow(this,g):void 0),f=function(i){return function(){var n,m,l;if(i.setCurrentStep(g),m=function(){switch({}.toString.call(h.path)){case"[object Function]":return h.path();case"[object String]":return this._options.basePath+h.path;default:return h.path}}.call(i),n=[d.location.pathname,d.location.hash].join(""),i._isRedirect(m,n)){return i._redirect(h,m),void 0}if(i._isOrphan(h)){if(!h.orphan){return i._debug("Skip the orphan step "+(i._current+1)+".\nOrphan option is false and the element does not exist or is hidden."),j?i._showPrevStep():i._showNextStep(),void 0}i._debug("Show the orphan step "+(i._current+1)+". Orphans option is true.")}return h.backdrop&&i._showBackdrop(i._isOrphan(h)?void 0:h.element),l=function(){return i.getCurrentStep()===g?(null!=h.element&&h.backdrop&&i._showOverlayElement(h),i._showPopover(h,g),null!=h.onShown&&h.onShown(i),i._debug("Step "+(i._current+1)+" of "+i._options.steps.length)):void 0},h.autoscroll?i._scrollIntoView(h.element,l):l(),h.duration?i.resume():void 0}}(this),h.delay?(this._debug("Wait "+h.delay+" milliseconds to show the step "+(this._current+1)),b.setTimeout(function(i){return function(){return i._callOnPromiseDone(k,f)}}(this),h.delay)):this._callOnPromiseDone(k,f),k):void 0},e.prototype.getCurrentStep=function(){return this._current},e.prototype.setCurrentStep=function(f){return null!=f?(this._current=f,this._setState("current_step",f)):(this._current=this._getState("current_step"),this._current=null===this._current?null:parseInt(this._current,10)),this},e.prototype._setState=function(g,h){var j,k;if(this._options.storage){k=""+this._options.name+"_"+g;try{this._options.storage.setItem(k,h)}catch(f){j=f,j.code===DOMException.QUOTA_EXCEEDED_ERR&&this._debug("LocalStorage quota exceeded. State storage failed.")}return this._options.afterSetState(k,h)}return null==this._state&&(this._state={}),this._state[g]=h},e.prototype._removeState=function(f){var g;return this._options.storage?(g=""+this._options.name+"_"+f,this._options.storage.removeItem(g),this._options.afterRemoveState(g)):null!=this._state?delete this._state[f]:void 0},e.prototype._getState=function(f){var g,h;return this._options.storage?(g=""+this._options.name+"_"+f,h=this._options.storage.getItem(g)):null!=this._state&&(h=this._state[f]),(void 0===h||"null"===h)&&(h=null),this._options.afterGetState(f,h),h},e.prototype._showNextStep=function(){var f,g,h;return h=this.getStep(this._current),g=function(i){return function(){return i.showStep(h.next)}}(this),f=this._makePromise(null!=h.onNext?h.onNext(this):void 0),this._callOnPromiseDone(f,g)},e.prototype._showPrevStep=function(){var f,g,h;return h=this.getStep(this._current),g=function(i){return function(){return i.showStep(h.prev)}}(this),f=this._makePromise(null!=h.onPrev?h.onPrev(this):void 0),this._callOnPromiseDone(f,g)},e.prototype._debug=function(f){return this._options.debug?b.console.log("Bootstrap Tour '"+this._options.name+"' | "+f):void 0},e.prototype._isRedirect=function(f,g){return null!=f&&""!==f&&("[object RegExp]"==={}.toString.call(f)&&!f.test(g)||"[object String]"==={}.toString.call(f)&&f.replace(/\?.*$/,"").replace(/\/?$/,"")!==g.replace(/\/?$/,""))},e.prototype._redirect=function(f,g){return a.isFunction(f.redirect)?f.redirect.call(this,g):f.redirect===!0?(this._debug("Redirect to "+g),d.location.href=g):void 0},e.prototype._isOrphan=function(f){return null==f.element||!a(f.element).length||a(f.element).is(":hidden")&&"http://www.w3.org/2000/svg"!==a(f.element)[0].namespaceURI},e.prototype._isLast=function(){return this._current<this._options.steps.length-1},e.prototype._showPopover=function(j,k){var l,f,h,g;return a(".tour-"+this._options.name).remove(),g=a.extend({},this._options),h=this._isOrphan(j),j.template=this._template(j,k),h&&(j.element="body",j.placement="top"),l=a(j.element),l.addClass("tour-"+this._options.name+"-element tour-"+this._options.name+"-"+k+"-element"),j.options&&a.extend(g,j.options),j.reflex&&!h&&(l.addClass("tour-step-element-reflex"),l.off(""+this._reflexEvent(j.reflex)+".tour-"+this._options.name),l.on(""+this._reflexEvent(j.reflex)+".tour-"+this._options.name,function(i){return function(){return i._isLast()?i.next():i.end()}}(this))),l.popover({placement:j.placement,trigger:"manual",title:j.title,content:j.content,html:!0,animation:j.animation,container:j.container,template:j.template,selector:j.element}).popover("show"),f=l.data("bs.popover")?l.data("bs.popover").tip():l.data("popover").tip(),f.attr("id",j.id),this._reposition(f,j),h?this._center(f):void 0},e.prototype._template=function(k,l){var m,g,j,h,f;return f=a.isFunction(k.template)?a(k.template(l,k)):a(k.template),m=f.find(".popover-navigation"),j=m.find('[data-role="prev"]'),g=m.find('[data-role="next"]'),h=m.find('[data-role="pause-resume"]'),this._isOrphan(k)&&f.addClass("orphan"),f.addClass("tour-"+this._options.name+" tour-"+this._options.name+"-"+l),k.prev<0&&j.addClass("disabled"),k.next<0&&g.addClass("disabled"),k.duration||h.remove(),f.clone().wrap("<div>").parent().html()},e.prototype._reflexEvent=function(f){return"[object Boolean]"==={}.toString.call(f)?"click":f},e.prototype._reposition=function(m,j){var k,f,t,n,g,q,l;if(n=m[0].offsetWidth,f=m[0].offsetHeight,l=m.offset(),g=l.left,q=l.top,k=a(d).outerHeight()-l.top-m.outerHeight(),0>k&&(l.top=l.top+k),t=a("html").outerWidth()-l.left-m.outerWidth(),0>t&&(l.left=l.left+t),l.top<0&&(l.top=0),l.left<0&&(l.left=0),m.offset(l),"bottom"===j.placement||"top"===j.placement){if(g!==l.left){return this._replaceArrow(m,2*(l.left-g),n,"left")}}else{if(q!==l.top){return this._replaceArrow(m,2*(l.top-q),f,"top")}}},e.prototype._center=function(f){return f.css("top",a(b).outerHeight()/2-f.outerHeight()/2)},e.prototype._replaceArrow=function(f,g,h,i){return f.find(".arrow").css(i,g?50*(1-g/h)+"%":"")},e.prototype._scrollIntoView=function(m,q){var h,k,j,f,l,g;return h=a(m),h.length?(k=a(b),f=h.offset().top,g=k.height(),l=Math.max(0,f-g/2),this._debug("Scroll into view. ScrollTop: "+l+". Element offset: "+f+". Window height: "+g+"."),j=0,a("body, html").stop(!0,!0).animate({scrollTop:Math.ceil(l)},function(i){return function(){return 2===++j?(q(),i._debug("Scroll into view.\nAnimation end element offset: "+h.offset().top+".\nWindow height: "+k.height()+".")):void 0}}(this))):q()},e.prototype._onResize=function(f,g){return a(b).on("resize.tour-"+this._options.name,function(){return clearTimeout(g),g=setTimeout(f,100)})},e.prototype._initMouseNavigation=function(){var f;return f=this,a(d).off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']").on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']",function(g){return function(h){return h.preventDefault(),g.next()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']",function(g){return function(h){return h.preventDefault(),g.prev()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']",function(g){return function(h){return h.preventDefault(),g.end()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']",function(g){var h;return g.preventDefault(),h=a(this),h.text(f._paused?h.data("pause-text"):h.data("resume-text")),f._paused?f.resume():f.pause()})},e.prototype._initKeyboardNavigation=function(){return this._options.keyboard?a(d).on("keyup.tour-"+this._options.name,function(f){return function(g){if(g.which){switch(g.which){case 39:return g.preventDefault(),f._isLast()?f.next():f.end();case 37:if(g.preventDefault(),f._current>0){return f.prev()}break;case 27:return g.preventDefault(),f.end()}}}}(this)):void 0},e.prototype._makePromise=function(f){return f&&a.isFunction(f.then)?f:null},e.prototype._callOnPromiseDone=function(f,g,h){return f?f.then(function(i){return function(){return g.call(i,h)}}(this)):g.call(this,h)},e.prototype._showBackdrop=function(){return this.backdrop.backgroundShown?void 0:(this.backdrop=a("<div>",{"class":"tour-backdrop"}),this.backdrop.backgroundShown=!0,a("body").append(this.backdrop))},e.prototype._hideBackdrop=function(){return this._hideOverlayElement(),this._hideBackground()},e.prototype._hideBackground=function(){return this.backdrop?(this.backdrop.remove(),this.backdrop.overlay=null,this.backdrop.backgroundShown=!1):void 0},e.prototype._showOverlayElement=function(f){var g,h;return g=a(f.element),g&&0!==g.length&&!this.backdrop.overlayElementShown?(this.backdrop.overlayElementShown=!0,this.backdrop.$element=g.addClass("tour-step-backdrop"),this.backdrop.$background=a("<div>",{"class":"tour-step-background"}),h={width:g.innerWidth(),height:g.innerHeight(),offset:g.offset()},this.backdrop.$background.appendTo("body"),f.backdropPadding&&(h=this._applyBackdropPadding(f.backdropPadding,h)),this.backdrop.$background.width(h.width).height(h.height).offset(h.offset)):void 0},e.prototype._hideOverlayElement=function(){return this.backdrop.overlayElementShown?(this.backdrop.$element.removeClass("tour-step-backdrop"),this.backdrop.$background.remove(),this.backdrop.$element=null,this.backdrop.$background=null,this.backdrop.overlayElementShown=!1):void 0},e.prototype._applyBackdropPadding=function(f,g){return"object"==typeof f?(null==f.top&&(f.top=0),null==f.right&&(f.right=0),null==f.bottom&&(f.bottom=0),null==f.left&&(f.left=0),g.offset.top=g.offset.top-f.top,g.offset.left=g.offset.left-f.left,g.width=g.width+f.left+f.right,g.height=g.height+f.top+f.bottom):(g.offset.top=g.offset.top-f,g.offset.left=g.offset.left-f,g.width=g.width+2*f,g.height=g.height+2*f),g},e.prototype._clearTimer=function(){return b.clearTimeout(this._timer),this._timer=null,this._duration=null},e}(),b.Tour=c}(jQuery,window);
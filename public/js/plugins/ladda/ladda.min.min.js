/*!
 * Ladda 0.9.8 (2015-03-19, 17:22)
 * http://lab.hakim.se/ladda
 * MIT licensed
 *
 * Copyright (C) 2015 Hakim El Hattab, http://hakim.se
 */
(function(a,b){"object"==typeof exports?module.exports=b(require("spin.js")):"function"==typeof define&&define.amd?define(["spin.min.js"],b):a.Ladda=b(a.Spinner)})(this,function(k){function g(m){if(m===void 0){return console.warn("Ladda button target must be defined."),void 0}m.querySelector(".ladda-label")||(m.innerHTML='<span class="ladda-label">'+m.innerHTML+"</span>");var p,q=m.querySelector(".ladda-spinner");q||(q=document.createElement("span"),q.className="ladda-spinner"),m.appendChild(q);var o,i={start:function(){return p||(p=c(m)),m.setAttribute("disabled",""),m.setAttribute("data-loading",""),clearTimeout(o),p.spin(q),this.setProgress(0),this},startAfter:function(a){return clearTimeout(o),o=setTimeout(function(){i.start()},a),this},stop:function(){return m.removeAttribute("disabled"),m.removeAttribute("data-loading"),clearTimeout(o),p&&(o=setTimeout(function(){p.stop()},1000)),this},toggle:function(){return this.isLoading()?this.stop():this.start(),this},setProgress:function(a){a=Math.max(Math.min(a,1),0);var r=m.querySelector(".ladda-progress");0===a&&r&&r.parentNode?r.parentNode.removeChild(r):(r||(r=document.createElement("div"),r.className="ladda-progress",m.appendChild(r)),r.style.width=(a||0)*m.offsetWidth+"px")},enable:function(){return this.stop(),this},disable:function(){return this.stop(),m.setAttribute("disabled",""),this},isLoading:function(){return m.hasAttribute("data-loading")},remove:function(){clearTimeout(o),m.removeAttribute("disabled",""),m.removeAttribute("data-loading",""),p&&(p.stop(),p=null);for(var e=0,a=j.length;a>e;e++){if(i===j[e]){j.splice(e,1);break}}}};return j.push(i),i}function d(a,i){for(;a.parentNode&&a.tagName!==i;){a=a.parentNode}return i===a.tagName?a:void 0}function b(p){for(var s=["input","textarea","select"],u=[],q=0;s.length>q;q++){for(var m=p.getElementsByTagName(s[q]),o=0;m.length>o;o++){m[o].hasAttribute("required")&&u.push(m[o])}}return u}function h(p,e){e=e||{};var n=[];"string"==typeof p?n=l(document.querySelectorAll(p)):"object"==typeof p&&"string"==typeof p.nodeName&&(n=[p]);for(var q=0,m=n.length;m>q;q++){(function(){var i=n[q];if("function"==typeof i.addEventListener){var o=g(i),a=-1;i.addEventListener("click",function(){var s=!0,r=d(i,"FORM");if(r!==void 0){for(var u=b(r),t=0;u.length>t;t++){""===u[t].value.replace(/^\s+|\s+$/g,"")&&(s=!1),"checkbox"!==u[t].type&&"radio"!==u[t].type||u[t].checked||(s=!1),"email"===u[t].type&&(s=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(u[t].value))}}s&&(o.startAfter(1),"number"==typeof e.timeout&&(clearTimeout(a),a=setTimeout(o.stop,e.timeout)),"function"==typeof e.callback&&e.callback.apply(null,[o]))},!1)}})()}}function f(){for(var a=0,i=j.length;i>a;a++){j[a].stop()}}function c(u){var w,t=u.offsetHeight;0===t&&(t=parseFloat(window.getComputedStyle(u).height)),t>32&&(t*=0.8),u.hasAttribute("data-spinner-size")&&(t=parseInt(u.getAttribute("data-spinner-size"),10)),u.hasAttribute("data-spinner-color")&&(w=u.getAttribute("data-spinner-color"));var m=12,p=0.2*t,v=0.6*p,q=7>p?2:3;return new k({color:w||"#fff",lines:m,radius:p,length:v,width:q,zIndex:"auto",top:"auto",left:"auto",className:""})}function l(a){for(var i=[],m=0;a.length>m;m++){i.push(a[m])}return i}var j=[];return{bind:h,create:g,stopAll:f}});
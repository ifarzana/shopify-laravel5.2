/*! Idle Timer v1.0.1 2014-03-21 | https://github.com/thorst/jquery-idletimer | (c) 2014 Paul Irish | Licensed MIT */
;!function(b){b.idleTimer=function(x,w){var v;"object"==typeof x?(v=x,x=null):"number"==typeof x&&(v={timeout:x},x=null),w=w||document,v=b.extend({idle:!1,timeout:30000,events:"mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove"},v);var u=b(w),t=u.data("idleTimerObj")||{},s=function(c){var g=b.data(w,"idleTimerObj")||{};g.idle=!g.idle,g.olddate=+new Date;var f=b.Event((g.idle?"idle":"active")+".idleTimer");b(w).trigger(f,[w,b.extend({},g),c])},r=function(c){var g=b.data(w,"idleTimerObj")||{};if(null==g.remaining){if("mousemove"===c.type){if(c.pageX===g.pageX&&c.pageY===g.pageY){return}if("undefined"==typeof c.pageX&&"undefined"==typeof c.pageY){return}var f=+new Date-g.olddate;if(200>f){return}}clearTimeout(g.tId),g.idle&&s(c),g.lastActive=+new Date,g.pageX=c.pageX,g.pageY=c.pageY,g.tId=setTimeout(s,g.timeout)}},q=function(){var c=b.data(w,"idleTimerObj")||{};c.idle=c.idleBackup,c.olddate=+new Date,c.lastActive=c.olddate,c.remaining=null,clearTimeout(c.tId),c.idle||(c.tId=setTimeout(s,c.timeout))},p=function(){var c=b.data(w,"idleTimerObj")||{};null==c.remaining&&(c.remaining=c.timeout-(+new Date-c.olddate),clearTimeout(c.tId))},o=function(){var c=b.data(w,"idleTimerObj")||{};null!=c.remaining&&(c.idle||(c.tId=setTimeout(s,c.remaining)),c.remaining=null)},n=function(){var c=b.data(w,"idleTimerObj")||{};clearTimeout(c.tId),u.removeData("idleTimerObj"),u.off("._idleTimer")},a=function(){var c=b.data(w,"idleTimerObj")||{};if(c.idle){return 0}if(null!=c.remaining){return c.remaining}var e=c.timeout-(+new Date-c.lastActive);return 0>e&&(e=0),e};if(null===x&&"undefined"!=typeof t.idle){return q(),u}if(null===x){}else{if(null!==x&&"undefined"==typeof t.idle){return !1}if("destroy"===x){return n(),u}if("pause"===x){return p(),u}if("resume"===x){return o(),u}if("reset"===x){return q(),u}if("getRemainingTime"===x){return a()}if("getElapsedTime"===x){return +new Date-t.olddate}if("getLastActiveTime"===x){return t.lastActive}if("isIdle"===x){return t.idle}}return u.on(b.trim((v.events+" ").split(" ").join("._idleTimer ")),function(c){r(c)}),t=b.extend({},{olddate:+new Date,lastActive:+new Date,idle:v.idle,idleBackup:v.idle,timeout:v.timeout,remaining:null,tId:null,pageX:null,pageY:null}),t.idle||(t.tId=setTimeout(s,t.timeout)),b.data(w,"idleTimerObj",t),u},b.fn.idleTimer=function(a){return this[0]?b.idleTimer(a,this[0]):this}}(jQuery);
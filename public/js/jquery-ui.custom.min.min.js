/*! jQuery UI - v1.11.2 - 2014-10-17
 * http://jqueryui.com
 * Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(c){function b(e,f){var i,d,h,g=e.nodeName.toLowerCase();return"area"===g?(i=e.parentNode,d=i.name,e.href&&d&&"map"===i.nodeName.toLowerCase()?(h=c("img[usemap='#"+d+"']")[0],!!h&&a(h)):!1):(/input|select|textarea|button|object/.test(g)?!e.disabled:"a"===g?e.href||f:f)&&a(e)}function a(d){return c.expr.filters.visible(d)&&!c(d).parents().addBack().filter(function(){return"hidden"===c.css(this,"visibility")}).length}c.ui=c.ui||{},c.extend(c.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),c.fn.extend({scrollParent:function(f){var e=this.css("position"),g="absolute"===e,h=f?/(auto|scroll|hidden)/:/(auto|scroll)/,d=this.parents().filter(function(){var i=c(this);return g&&"static"===i.css("position")?!1:h.test(i.css("overflow")+i.css("overflow-y")+i.css("overflow-x"))}).eq(0);return"fixed"!==e&&d.length?d:c(this[0].ownerDocument||document)},uniqueId:function(){var d=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++d)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&c(this).removeAttr("id")})}}),c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(d){return function(e){return !!c.data(e,d)}}):function(e,d,f){return !!c.data(e,f[3])},focusable:function(d){return b(d,!isNaN(c.attr(d,"tabindex")))},tabbable:function(d){var e=c.attr(d,"tabindex"),f=isNaN(e);return(f||e>=0)&&b(d,!f)}}),c("<a>").outerWidth(1).jquery||c.each(["Width","Height"],function(f,e){function g(m,l,n,k){return c.each(j,function(){l-=parseFloat(c.css(m,"padding"+this))||0,n&&(l-=parseFloat(c.css(m,"border"+this+"Width"))||0),k&&(l-=parseFloat(c.css(m,"margin"+this))||0)}),l}var j="Width"===e?["Left","Right"]:["Top","Bottom"],d=e.toLowerCase(),h={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+e]=function(i){return void 0===i?h["inner"+e].call(this):this.each(function(){c(this).css(d,g(this,i)+"px")})},c.fn["outer"+e]=function(i,k){return"number"!=typeof i?h["outer"+e].call(this,i):this.each(function(){c(this).css(d,g(this,i,!0,k)+"px")})}}),c.fn.addBack||(c.fn.addBack=function(d){return this.add(null==d?this.prevObject:this.prevObject.filter(d))}),c("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(c.fn.removeData=function(d){return function(e){return arguments.length?d.call(this,c.camelCase(e)):d.call(this)}}(c.fn.removeData)),c.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),c.fn.extend({focus:function(d){return function(e,f){return"number"==typeof e?this.each(function(){var g=this;setTimeout(function(){c(g).focus(),f&&f.call(g)},e)}):d.apply(this,arguments)}}(c.fn.focus),disableSelection:function(){var d="onselectstart" in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(d+".ui-disableSelection",function(f){f.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e){return this.css("zIndex",e)}if(this.length){for(var d,f,g=c(this[0]);g.length&&g[0]!==document;){if(d=g.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(f=parseInt(g.css("zIndex"),10),!isNaN(f)&&0!==f)){return f}g=g.parent()}}return 0}}),c.ui.plugin={add:function(f,e,g){var h,d=c.ui[f].prototype;for(h in g){d.plugins[h]=d.plugins[h]||[],d.plugins[h].push([e,g[h]])}},call:function(j,g,f,h){var k,d=j.plugins[g];if(d&&(h||j.element[0].parentNode&&11!==j.element[0].parentNode.nodeType)){for(k=0;d.length>k;k++){j.options[d[k][0]]&&d[k][1].apply(j.element,f)}}}}});
/*! jQuery UI - v1.11.2 - 2014-10-17
 * http://jqueryui.com
 * Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(c){var b=0,a=Array.prototype.slice;return c.cleanData=function(d){return function(f){var g,j,e;for(e=0;null!=(j=f[e]);e++){try{g=c._data(j,"events"),g&&g.remove&&c(j).triggerHandler("remove")}catch(h){}}d(f)}}(c.cleanData),c.widget=function(p,j,q){var f,m,e,d,k={},g=p.split(".")[0];return p=p.split(".")[1],f=g+"-"+p,q||(q=j,j=c.Widget),c.expr[":"][f.toLowerCase()]=function(h){return !!c.data(h,f)},c[g]=c[g]||{},m=c[g][p],e=c[g][p]=function(i,h){return this._createWidget?(arguments.length&&this._createWidget(i,h),void 0):new e(i,h)},c.extend(e,m,{version:q.version,_proto:c.extend({},q),_childConstructors:[]}),d=new j,d.options=c.widget.extend({},d.options),c.each(q,function(h,i){return c.isFunction(i)?(k[h]=function(){var l=function(){return j.prototype[h].apply(this,arguments)},o=function(n){return j.prototype[h].apply(this,n)};return function(){var s,r=this._super,n=this._superApply;return this._super=l,this._superApply=o,s=i.apply(this,arguments),this._super=r,this._superApply=n,s}}(),void 0):(k[h]=i,void 0)}),e.prototype=c.widget.extend(d,{widgetEventPrefix:m?d.widgetEventPrefix||p:p},k,{constructor:e,namespace:g,widgetName:p,widgetFullName:f}),m?(c.each(m._childConstructors,function(l,h){var n=h.prototype;c.widget(n.namespace+"."+n.widgetName,e,h._proto)}),delete m._childConstructors):j._childConstructors.push(e),c.widget.bridge(p,e),e},c.widget.extend=function(e){for(var f,i,d=a.call(arguments,1),h=0,g=d.length;g>h;h++){for(f in d[h]){i=d[h][f],d[h].hasOwnProperty(f)&&void 0!==i&&(e[f]=c.isPlainObject(i)?c.isPlainObject(e[f])?c.widget.extend({},e[f],i):c.widget.extend({},i):i)}}return e},c.widget.bridge=function(d,e){var f=e.prototype.widgetFullName||d;c.fn[d]=function(g){var k="string"==typeof g,j=a.call(arguments,1),i=this;return g=!k&&j.length?c.widget.extend.apply(null,[g].concat(j)):g,k?this.each(function(){var h,l=c.data(this,f);return"instance"===g?(i=l,!1):l?c.isFunction(l[g])&&"_"!==g.charAt(0)?(h=l[g].apply(l,j),h!==l&&void 0!==h?(i=h&&h.jquery?i.pushStack(h.get()):h,!1):void 0):c.error("no such method '"+g+"' for "+d+" widget instance"):c.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var h=c.data(this,f);h?(h.option(g||{}),h._init&&h._init()):c.data(this,f,new e(g,this))}),i}},c.Widget=function(){},c.Widget._childConstructors=[],c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(d,e){e=c(e||this.defaultElement||this)[0],this.element=c(e),this.uuid=b++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=c(),this.hoverable=c(),this.focusable=c(),e!==this&&(c.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(f){f.target===e&&this.destroy()}}),this.document=c(e.style?e.ownerDocument:e.document||e),this.window=c(this.document[0].defaultView||this.document[0].parentWindow)),this.options=c.widget.extend({},this.options,this._getCreateOptions(),d),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(f,e){var g,j,d,h=f;if(0===arguments.length){return c.widget.extend({},this.options)}if("string"==typeof f){if(h={},g=f.split("."),f=g.shift(),g.length){for(j=h[f]=c.widget.extend({},this.options[f]),d=0;g.length-1>d;d++){j[g[d]]=j[g[d]]||{},j=j[g[d]]}if(f=g.pop(),1===arguments.length){return void 0===j[f]?null:j[f]}j[f]=e}else{if(1===arguments.length){return void 0===this.options[f]?null:this.options[f]}h[f]=e}}return this._setOptions(h),this},_setOptions:function(f){var d;for(d in f){this._setOption(d,f[d])}return this},_setOption:function(f,d){return this.options[f]=d,"disabled"===f&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!d),d&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(f,e,g){var h,d=this;"boolean"!=typeof f&&(g=e,e=f,f=!1),g?(e=h=c(e),this.bindings=this.bindings.add(e)):(g=e,e=this.element,h=this.widget()),c.each(g,function(m,p){function n(){return f||d.options.disabled!==!0&&!c(this).hasClass("ui-state-disabled")?("string"==typeof p?d[p]:p).apply(d,arguments):void 0}"string"!=typeof p&&(n.guid=p.guid=p.guid||n.guid||c.guid++);var k=m.match(/^([\w:-]*)\s*(.*)$/),i=k[1]+d.eventNamespace,j=k[2];j?h.delegate(j,i,n):e.bind(i,n)})},_off:function(e,d){d=(d||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(d).undelegate(d),this.bindings=c(this.bindings.not(e).get()),this.focusable=c(this.focusable.not(e).get()),this.hoverable=c(this.hoverable.not(e).get())},_delay:function(h,f){function d(){return("string"==typeof h?g[h]:h).apply(g,arguments)}var g=this;return setTimeout(d,f||0)},_hoverable:function(d){this.hoverable=this.hoverable.add(d),this._on(d,{mouseenter:function(e){c(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){c(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(d){this.focusable=this.focusable.add(d),this._on(d,{focusin:function(e){c(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){c(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(f,e,g){var j,d,h=this.options[f];if(g=g||{},e=c.Event(e),e.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase(),e.target=this.element[0],d=e.originalEvent){for(j in d){j in e||(e[j]=d[j])}}return this.element.trigger(e,g),!(c.isFunction(h)&&h.apply(this.element[0],[e].concat(g))===!1||e.isDefaultPrevented())}},c.each({show:"fadeIn",hide:"fadeOut"},function(e,d){c.Widget.prototype["_"+e]=function(g,j,f){"string"==typeof j&&(j={effect:j});var i,h=j?j===!0||"number"==typeof j?d:j.effect||d:e;j=j||{},"number"==typeof j&&(j={duration:j}),i=!c.isEmptyObject(j),j.complete=f,j.delay&&g.delay(j.delay),i&&c.effects&&c.effects.effect[h]?g[e](j):h!==e&&g[h]?g[h](j.duration,j.easing,f):g.queue(function(k){c(this)[e](),f&&f.call(g[0]),k()})}}),c.widget});
/*! jQuery UI - v1.11.2 - 2014-10-17
 * http://jqueryui.com
 * Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery","./widget"],a):a(jQuery)})(function(b){var a=!1;return b(document).mouseup(function(){a=!1}),b.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(d){return c._mouseDown(d)}).bind("click."+this.widgetName,function(d){return !0===b.data(d.target,c.widgetName+".preventClickEvent")?(b.removeData(d.target,c.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(d){if(!a){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(d),this._mouseDownEvent=d;var e=this,f=1===d.which,c="string"==typeof this.options.cancel&&d.target.nodeName?b(d.target).closest(this.options.cancel).length:!1;return f&&!c&&this._mouseCapture(d)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=this._mouseStart(d)!==!1,!this._mouseStarted)?(d.preventDefault(),!0):(!0===b.data(d.target,this.widgetName+".preventClickEvent")&&b.removeData(d.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(g){return e._mouseMove(g)},this._mouseUpDelegate=function(g){return e._mouseUp(g)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),d.preventDefault(),a=!0,!0)):!0}},_mouseMove:function(c){if(this._mouseMoved){if(b.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button){return this._mouseUp(c)}if(!c.which){return this._mouseUp(c)}}return(c.which||c.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,c)!==!1,this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted)},_mouseUp:function(c){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&b.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),a=!1,!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}})});
/*! jQuery UI - v1.11.2 - 2014-10-17
 * http://jqueryui.com
 * Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],a):a(jQuery)})(function(a){return a.widget("ui.draggable",a.ui.mouse,{version:"1.11.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(c,b){this._super(c,b),"handle"===c&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(c){var b=this.options;return this._blurActiveElement(c),this.helper||b.disabled||a(c.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(c),this.handle?(this._blockFrames(b.iframeFix===!0?"iframe":b.iframeFix),!0):!1)},_blockFrames:function(b){this.iframeBlocks=this.document.find(b).map(function(){var c=a(this);return a("<div>").css("position","absolute").appendTo(c.parent()).outerWidth(c.outerWidth()).outerHeight(c.outerHeight()).offset(c.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(c){var b=this.document[0];if(this.handleElement.is(c.target)){try{b.activeElement&&"body"!==b.activeElement.nodeName.toLowerCase()&&a(b.activeElement).blur()}catch(d){}}},_mouseStart:function(c){var b=this.options;return this.helper=this._createHelper(c),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===a(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(c),this.originalPosition=this.position=this._generatePosition(c,!1),this.originalPageX=c.pageX,this.originalPageY=c.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),this._setContainment(),this._trigger("start",c)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c),this._normalizeRightBottom(),this._mouseDrag(c,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,c),!0)},_refreshOffsets:function(b){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:b.pageX-this.offset.left,top:b.pageY-this.offset.top}},_mouseDrag:function(c,b){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(c,!0),this.positionAbs=this._convertPositionTo("absolute"),!b){var d=this._uiHash();if(this._trigger("drag",c,d)===!1){return this._mouseUp({}),!1}this.position=d.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",a.ui.ddmanager&&a.ui.ddmanager.drag(this,c),!1},_mouseStop:function(c){var b=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,c)),this.dropped&&(d=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){b._trigger("stop",c)!==!1&&b._clear()}):this._trigger("stop",c)!==!1&&this._clear(),!1},_mouseUp:function(b){return this._unblockFrames(),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),this.handleElement.is(b.target)&&this.element.focus(),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(c){var b=this.options,d=a.isFunction(b.helper),e=d?a(b.helper.apply(this.element[0],[c])):"clone"===b.helper?this.element.clone().removeAttr("id"):this.element;return e.parents("body").length||e.appendTo("parent"===b.appendTo?this.element[0].parentNode:b.appendTo),d&&e[0]===this.element[0]&&this._setPositionRelative(),e[0]===this.element[0]||/(fixed|absolute)/.test(e.css("position"))||e.css("position","absolute"),e},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left" in b&&(this.offset.click.left=b.left+this.margins.left),"right" in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top" in b&&(this.offset.click.top=b.top+this.margins.top),"bottom" in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_isRootNode:function(b){return/(html|body)/i.test(b.tagName)||b===this.document[0]},_getParentOffset:function(){var c=this.offsetParent.offset(),b=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==b&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(c={top:0,left:0}),{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition){return{top:0,left:0}}var c=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+(b?0:this.scrollParent.scrollTop()),left:c.left-(parseInt(this.helper.css("left"),10)||0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d,c,e,f=this.options,b=this.document[0];return this.relativeContainer=null,f.containment?"window"===f.containment?(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||b.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===f.containment?(this.containment=[0,0,a(b).width()-this.helperProportions.width-this.margins.left,(a(b).height()||b.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):f.containment.constructor===Array?(this.containment=f.containment,void 0):("parent"===f.containment&&(f.containment=this.helper[0].parentNode),c=a(f.containment),e=c[0],e&&(d=/(scroll|auto)/.test(c.css("overflow")),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(d?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=c),void 0):(this.containment=null,void 0)},_convertPositionTo:function(f,c){c||(c=this.position);var b="absolute"===f?1:-1,d=this._isRootNode(this.scrollParent[0]);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===this.cssPosition?-this.offset.scroll.top:d?0:this.offset.scroll.top)*b,left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.offset.scroll.left:d?0:this.offset.scroll.left)*b}},_generatePosition:function(k,p){var g,q,d,m,c=this.options,b=this._isRootNode(this.scrollParent[0]),j=k.pageX,f=k.pageY;return b&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),p&&(this.containment&&(this.relativeContainer?(q=this.relativeContainer.offset(),g=[this.containment[0]+q.left,this.containment[1]+q.top,this.containment[2]+q.left,this.containment[3]+q.top]):g=this.containment,k.pageX-this.offset.click.left<g[0]&&(j=g[0]+this.offset.click.left),k.pageY-this.offset.click.top<g[1]&&(f=g[1]+this.offset.click.top),k.pageX-this.offset.click.left>g[2]&&(j=g[2]+this.offset.click.left),k.pageY-this.offset.click.top>g[3]&&(f=g[3]+this.offset.click.top)),c.grid&&(d=c.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY,f=g?d-this.offset.click.top>=g[1]||d-this.offset.click.top>g[3]?d:d-this.offset.click.top>=g[1]?d-c.grid[1]:d+c.grid[1]:d,m=c.grid[0]?this.originalPageX+Math.round((j-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX,j=g?m-this.offset.click.left>=g[0]||m-this.offset.click.left>g[2]?m:m-this.offset.click.left>=g[0]?m-c.grid[0]:m+c.grid[0]:m),"y"===c.axis&&(j=this.originalPageX),"x"===c.axis&&(f=this.originalPageY)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:b?0:this.offset.scroll.top),left:j-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:b?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(c,b,d){return d=d||this._uiHash(),a.ui.plugin.call(this,c,[b,d,this],!0),/^(drag|start|stop)/.test(c)&&(this.positionAbs=this._convertPositionTo("absolute"),d.offset=this.positionAbs),a.Widget.prototype._trigger.call(this,c,b,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(c,b,d){var e=a.extend({},b,{item:d.element});d.sortables=[],a(d.options.connectToSortable).each(function(){var f=a(this).sortable("instance");f&&!f.options.disabled&&(d.sortables.push(f),f.refreshPositions(),f._trigger("activate",c,e))})},stop:function(c,b,d){var e=a.extend({},b,{item:d.element});d.cancelHelperRemoval=!1,a.each(d.sortables,function(){var f=this;f.isOver?(f.isOver=0,d.cancelHelperRemoval=!0,f.cancelHelperRemoval=!1,f._storedCSS={position:f.placeholder.css("position"),top:f.placeholder.css("top"),left:f.placeholder.css("left")},f._mouseStop(c),f.options.helper=f.options._helper):(f.cancelHelperRemoval=!0,f._trigger("deactivate",c,e))})},drag:function(c,b,d){a.each(d.sortables,function(){var f=!1,e=this;e.positionAbs=d.positionAbs,e.helperProportions=d.helperProportions,e.offset.click=d.offset.click,e._intersectsWith(e.containerCache)&&(f=!0,a.each(d.sortables,function(){return this.positionAbs=d.positionAbs,this.helperProportions=d.helperProportions,this.offset.click=d.offset.click,this!==e&&this._intersectsWith(this.containerCache)&&a.contains(e.element[0],this.element[0])&&(f=!1),f})),f?(e.isOver||(e.isOver=1,e.currentItem=b.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return b.helper[0]},c.target=e.currentItem[0],e._mouseCapture(c,!0),e._mouseStart(c,!0,!0),e.offset.click.top=d.offset.click.top,e.offset.click.left=d.offset.click.left,e.offset.parent.left-=d.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=d.offset.parent.top-e.offset.parent.top,d._trigger("toSortable",c),d.dropped=e.element,a.each(d.sortables,function(){this.refreshPositions()}),d.currentItem=d.element,e.fromOutside=d),e.currentItem&&(e._mouseDrag(c),b.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",c,e._uiHash(e)),e._mouseStop(c,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),d._refreshOffsets(c),b.position=d._generatePosition(c,!0),d._trigger("fromSortable",c),d.dropped=!1,a.each(d.sortables,function(){this.refreshPositions()}))})}}),a.ui.plugin.add("draggable","cursor",{start:function(d,c,e){var f=a("body"),b=e.options;f.css("cursor")&&(b._cursor=f.css("cursor")),f.css("cursor",b.cursor)},stop:function(c,b,d){var e=d.options;e._cursor&&a("body").css("cursor",e._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(d,c,e){var f=a(c.helper),b=e.options;f.css("opacity")&&(b._opacity=f.css("opacity")),f.css("opacity",b.opacity)},stop:function(c,b,d){var e=d.options;e._opacity&&a(b.helper).css("opacity",e._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(d,c,b){b.scrollParentNotHidden||(b.scrollParentNotHidden=b.helper.scrollParent(!1)),b.scrollParentNotHidden[0]!==b.document[0]&&"HTML"!==b.scrollParentNotHidden[0].tagName&&(b.overflowOffset=b.scrollParentNotHidden.offset())},drag:function(d,c,e){var h=e.options,b=!1,g=e.scrollParentNotHidden[0],f=e.document[0];g!==f&&"HTML"!==g.tagName?(h.axis&&"x"===h.axis||(e.overflowOffset.top+g.offsetHeight-d.pageY<h.scrollSensitivity?g.scrollTop=b=g.scrollTop+h.scrollSpeed:d.pageY-e.overflowOffset.top<h.scrollSensitivity&&(g.scrollTop=b=g.scrollTop-h.scrollSpeed)),h.axis&&"y"===h.axis||(e.overflowOffset.left+g.offsetWidth-d.pageX<h.scrollSensitivity?g.scrollLeft=b=g.scrollLeft+h.scrollSpeed:d.pageX-e.overflowOffset.left<h.scrollSensitivity&&(g.scrollLeft=b=g.scrollLeft-h.scrollSpeed))):(h.axis&&"x"===h.axis||(d.pageY-a(f).scrollTop()<h.scrollSensitivity?b=a(f).scrollTop(a(f).scrollTop()-h.scrollSpeed):a(window).height()-(d.pageY-a(f).scrollTop())<h.scrollSensitivity&&(b=a(f).scrollTop(a(f).scrollTop()+h.scrollSpeed))),h.axis&&"y"===h.axis||(d.pageX-a(f).scrollLeft()<h.scrollSensitivity?b=a(f).scrollLeft(a(f).scrollLeft()-h.scrollSpeed):a(window).width()-(d.pageX-a(f).scrollLeft())<h.scrollSensitivity&&(b=a(f).scrollLeft(a(f).scrollLeft()+h.scrollSpeed)))),b!==!1&&a.ui.ddmanager&&!h.dropBehaviour&&a.ui.ddmanager.prepareOffsets(e,d)}}),a.ui.plugin.add("draggable","snap",{start:function(c,b,d){var e=d.options;d.snapElements=[],a(e.snap.constructor!==String?e.snap.items||":data(ui-draggable)":e.snap).each(function(){var g=a(this),f=g.offset();this!==d.element[0]&&d.snapElements.push({item:this,width:g.outerWidth(),height:g.outerHeight(),top:f.top,left:f.left})})},drag:function(k,D,q){var A,J,z,w,E,C,j,H,I,G,x=q.options,B=x.snapTolerance,F=D.offset.left,e=F+q.helperProportions.width,b=D.offset.top,K=b+q.helperProportions.height;for(I=q.snapElements.length-1;I>=0;I--){E=q.snapElements[I].left-q.margins.left,C=E+q.snapElements[I].width,j=q.snapElements[I].top-q.margins.top,H=j+q.snapElements[I].height,E-B>e||F>C+B||j-B>K||b>H+B||!a.contains(q.snapElements[I].item.ownerDocument,q.snapElements[I].item)?(q.snapElements[I].snapping&&q.options.snap.release&&q.options.snap.release.call(q.element,k,a.extend(q._uiHash(),{snapItem:q.snapElements[I].item})),q.snapElements[I].snapping=!1):("inner"!==x.snapMode&&(A=B>=Math.abs(j-K),J=B>=Math.abs(H-b),z=B>=Math.abs(E-e),w=B>=Math.abs(C-F),A&&(D.position.top=q._convertPositionTo("relative",{top:j-q.helperProportions.height,left:0}).top),J&&(D.position.top=q._convertPositionTo("relative",{top:H,left:0}).top),z&&(D.position.left=q._convertPositionTo("relative",{top:0,left:E-q.helperProportions.width}).left),w&&(D.position.left=q._convertPositionTo("relative",{top:0,left:C}).left)),G=A||J||z||w,"outer"!==x.snapMode&&(A=B>=Math.abs(j-b),J=B>=Math.abs(H-K),z=B>=Math.abs(E-F),w=B>=Math.abs(C-e),A&&(D.position.top=q._convertPositionTo("relative",{top:j,left:0}).top),J&&(D.position.top=q._convertPositionTo("relative",{top:H-q.helperProportions.height,left:0}).top),z&&(D.position.left=q._convertPositionTo("relative",{top:0,left:E}).left),w&&(D.position.left=q._convertPositionTo("relative",{top:0,left:C-q.helperProportions.width}).left)),!q.snapElements[I].snapping&&(A||J||z||w||G)&&q.options.snap.snap&&q.options.snap.snap.call(q.element,k,a.extend(q._uiHash(),{snapItem:q.snapElements[I].item})),q.snapElements[I].snapping=A||J||z||w||G)}}}),a.ui.plugin.add("draggable","stack",{start:function(d,c,e){var g,b=e.options,f=a.makeArray(a(b.stack)).sort(function(j,h){return(parseInt(a(j).css("zIndex"),10)||0)-(parseInt(a(h).css("zIndex"),10)||0)});f.length&&(g=parseInt(a(f[0]).css("zIndex"),10)||0,a(f).each(function(h){a(this).css("zIndex",g+h)}),this.css("zIndex",g+f.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(d,c,e){var f=a(c.helper),b=e.options;f.css("zIndex")&&(b._zIndex=f.css("zIndex")),f.css("zIndex",b.zIndex)},stop:function(c,b,d){var e=d.options;e._zIndex&&a(b.helper).css("zIndex",e._zIndex)}}),a.ui.draggable});
(function(){$(function(){var b=$(".typeahead");var d=$("input[name=client_id]");var e=$("#clear-client-btn");var g=$(".client-selected-div");var i=$("#save-btn");var a=$(".domain-client-search-fg");var f=$("#contact_fg");var h=$("#contact_id");j();b.typeahead({ajax:"/clients/search-ajax",triggerLength:1,highlight:true,minLength:1,limit:10,displayField:"top",highlighter:function(l){var m=l.split("_#_"),k='<div class="typeahead">';k+='<div class="pull-left margin-small">';k+='<div class="text-left" ><strong data-display = '+m[0]+">"+m[0]+"</strong></div>";k+='<small class="text-left">'+m[1]+"</small>";k+='<small class="text-left text-primary" style="display: block;">'+m[2]+"</small>";k+="</div>";k+='<div class="clearfix"></div>';k+="</div>";return k},onSelect:function(k){d.val(k.value);a.removeClass("margin");b.prop("readonly",true);j();c();return false}});e.on("click",function(){b.prop("readonly",false);b.val("");d.val("");j();return true});function j(){g.hide();f.hide();h.val("");h.empty()}function c(){g.show();f.show();h.val("");h.empty();$.ajax({url:"/clients/get-ajax",method:"GET",data:{id:d.val()},async:true,success:function(k){h.select2({data:k.contacts}).trigger("change.select2");i.show()}})}if(d.val()!=""){b.prop("readonly",true);j();c();g.show()}})})();